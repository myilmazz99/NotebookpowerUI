(this.webpackJsonpintro=this.webpackJsonpintro||[]).push([[9],{101:function(e,a,r){"use strict";a.a=function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"TRY"}).format(e)}},111:function(e,a,r){"use strict";r.d(a,"b",(function(){return s})),r.d(a,"d",(function(){return o})),r.d(a,"c",(function(){return d})),r.d(a,"a",(function(){return m}));var t=r(4),n=r.n(t),c=r(13),l=r(2),u=r(8),i=r(12),s=function(e,a,r){return function(){var t=Object(c.a)(n.a.mark((function t(c){var s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("api/orders",e);case 3:return c({type:l.i,payload:e}),t.next=6,u.a.put("api/carts/".concat(a));case 6:c({type:l.e}),r.push("/user/orders"),Object(i.a)(c,!0,"\xd6demeniz al\u0131nd\u0131. En k\u0131sa s\xfcrede sipari\u015finizi onaylayaca\u011f\u0131z \u0130yi al\u0131\u015fveri\u015fler."),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0.response.data.ErrorType.toLowerCase().includes("payment")?c({type:l.J,payload:t.t0.response.data.ErrorMessage}):t.t0.response.data.ErrorType.toLowerCase().includes("validation")?(s=JSON.parse(t.t0.data.response.ErrorMessage),c({type:l.I,payload:s})):Object(i.a)(c,!1,"\xd6deme ger\xe7ekle\u015ftirilemedi. L\xfctfen daha sonra tekrar deneyiniz.");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},o=function(){return function(){var e=Object(c.a)(n.a.mark((function e(a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("api/orders");case 3:r=e.sent,a({type:l.u,payload:r.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(i.a)(a,!1,"Sipari\u015fler getirilemedi. L\xfctfen daha sonra tekrar deneyiniz veya yaz\u0131l\u0131m ekibimize durumu bildiriniz.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},d=function(e){return function(){var a=Object(c.a)(n.a.mark((function a(r){var t;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.get("api/orders/".concat(e));case 3:t=a.sent,r({type:l.v,payload:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(i.a)(r,!1,"Sipari\u015f bulunamad\u0131. L\xfctfen daha sonra tekrar deneyiniz veya yaz\u0131l\u0131m ekibimize durumu bildiriniz.");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e){return function(){var a=Object(c.a)(n.a.mark((function a(r){var t;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.put("api/orders/".concat(e));case 3:t=a.sent,r({type:l.j,payload:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(i.a)(r,!1,"Sipari\u015f onaylanamad\u0131. L\xfctfen daha sonra tekrar deneyiniz veya yaz\u0131l\u0131m ekibimize durumu bildiriniz.");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},115:function(e,a,r){"use strict";var t=r(25),n=r(0),c=r.n(n),l=(r(9),r(7)),u=r(14),i=r(18),s=r(101);a.a=Object(u.b)((function(e){return{cartItems:e.cartReducer.cartItems}}))((function(e){var a=e.buttonText,r=e.cartItems,u=e.getTotalPrice,o=Object(n.useState)(0),d=Object(t.a)(o,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){r&&0!==r.length&&p(r.map((function(e){return e.productQuantity*e.product.newPrice})).reduce((function(e,a){return e+a}))),0===r.length&&p(0)}),[r]),Object(n.useEffect)((function(){u&&u(m)}),[m]),c.a.createElement("ul",{className:"cart-summary"},c.a.createElement("h2",null,"Sipari\u015f \xd6zeti"),c.a.createElement("li",{className:"cart-summary-item"},c.a.createElement("span",null,"\xdcr\xfcn Adedi"),c.a.createElement("span",null,r.length)),c.a.createElement("li",{className:"cart-summary-item"},c.a.createElement("span",null,"\xd6denecek Tutar"),c.a.createElement("span",null,Object(s.a)(m))),c.a.createElement("li",{className:"cart-summary-item"},c.a.createElement("span",null,"Kargo Tutar\u0131"),c.a.createElement("span",null,Object(s.a)(0))),c.a.createElement("hr",null),c.a.createElement("li",{className:"cart-summary-item"},c.a.createElement("span",null,"Toplam"),c.a.createElement("span",null,Object(s.a)(m))),c.a.createElement("li",null,"\xd6deme Yap"===a?c.a.createElement(i.a,{type:"submit",value:a,onClick:function(){return u({totalPrice:m})}}):c.a.createElement(l.b,{to:"/order",className:"checkout-btn"},a)))}))},153:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),c=r(115),l=r(18),u=r(47),i=function(e){var a=e.handleChange,r=e.values,t=e.errors;return n.a.createElement("div",{className:"address"},n.a.createElement("h2",null,"Adres"),n.a.createElement(l.a,{type:"text",name:"fullName",placeholder:"Ad\u0131n\u0131z ve Soyad\u0131n\u0131z",handleChange:a,value:r.fullName,error:t.fullName}),n.a.createElement(l.a,{type:"text",name:"phoneNumber",placeholder:"Telefon numaran\u0131z",handleChange:a,value:r.phoneNumber,error:t.phoneNumber}),n.a.createElement(l.a,{type:"text",name:"addressHeader",placeholder:"Adres Ba\u015fl\u0131\u011f\u0131",handleChange:a,value:r.addressHeader,error:t.addressHeader}),n.a.createElement(l.a,{type:"text",name:"city",placeholder:"\u015eehir",handleChange:a,value:r.city,error:t.city}),n.a.createElement(l.a,{type:"text",name:"state",placeholder:"Semt",handleChange:a,value:r.state,error:t.state}),n.a.createElement(u.a,{name:"addressDescription",placeholder:"Adres",handleChange:a,value:r.addressDescription,error:t.addressDescription}))},s=r(144),o=r(27),d=function(e){var a={};return e.fullName||(a.fullName="\u0130sim alan\u0131n\u0131 doldurmak zorunludur."),e.phoneNumber||(a.phoneNumber="Telefon alan\u0131n\u0131 doldurmak zorunludur."),e.addressHeader||(a.addressHeader="Adres ba\u015fl\u0131\u011f\u0131 alan\u0131n\u0131 doldurmak zorunludur."),e.city||(a.city="\u015eehir alan\u0131n\u0131 doldurmak zorunludur."),e.state||(a.state="Semt alan\u0131n\u0131 doldurmak zorunludur."),e.addressDescription||(a.addressDescription="Adres alan\u0131n\u0131 doldurmak zorunludur."),a},m=r(14),p=r(10),h=r(111),f=r(43),y=r(11);a.default=Object(m.b)((function(e){return{cartReducer:e.cartReducer,userCredentials:e.userReducer.userCredentials,authenticated:e.userReducer.authenticated,validationErrors:e.orderReducer.errors,paymentError:e.orderReducer.paymentError}}),(function(e){return{fulfillOrder:Object(p.b)(h.b,e)}}))((function(e){var a=e.cartReducer,r=a.cartId,u=a.cartItems,m=e.authenticated,p=e.userCredentials,h=p.userId,b=p.email,E=e.fulfillOrder,v=e.validationErrors,N=e.paymentError,x=Object(y.f)(),k=Object(o.a)((function(e){e.cartItems=u,e.userId=h,e.email=b,E(e,r,x)}),d),g=k.handleChange,O=k.handleSubmit,z=k.values,j=k.errors,C=k.updateErrors;Object(t.useEffect)((function(){!1===m&&x.push("/404"),0===u.length&&x.push("/cart")}),[]),Object(t.useEffect)((function(){document.querySelector(".rccs__expiry__valid").innerText="Son kullanma tarihi"}),[]),Object(t.useEffect)((function(){if(v.length>0){var e={};v.forEach((function(a){var r=Object(f.a)(a.PropertyName);e[r]=a.ErrorMessage})),C(e)}}),[v]);return n.a.createElement("main",{id:"order"},n.a.createElement("form",{className:"order-wrapper",onSubmit:O},n.a.createElement(i,{handleChange:g,values:z,errors:j}),n.a.createElement("section",{className:"credit-card"},n.a.createElement("h2",null,"Kart Bilgileri"),N&&n.a.createElement("span",{style:{color:"red"}},"** ",N),n.a.createElement("section",{className:"credit-card-details"},n.a.createElement("section",{className:"card-input-wrapper"},n.a.createElement(l.a,{type:"text",name:"cardNumber",placeholder:"Kart Numaras\u0131",handleChange:g,value:z.cardNumber||"",error:j.cardNumber&&j.cardNumber}),n.a.createElement(l.a,{type:"text",name:"cardHolderName",placeholder:"Kart \xfczerindeki isim",handleChange:g,value:z.cardHolderName||"",error:j.cardHolderName&&j.cardHolderName}),n.a.createElement(l.a,{type:"text",name:"securityNumber",placeholder:"G\xfcvenlik Kodu",handleChange:g,value:z.securityNumber||"",error:j.securityNumber&&j.securityNumber}),n.a.createElement("div",{className:"input-group"},n.a.createElement("label",null,"Son kullanma tarihi"),n.a.createElement(l.a,{type:"text",name:"expireMonth",placeholder:"Ay",handleChange:g,value:z.expireMonth||"",error:j.expireMonth&&j.expireMonth}),n.a.createElement(l.a,{type:"text",name:"expireYear",placeholder:"Y\u0131l",handleChange:g,value:z.expireYear||"",error:j.expireYear&&j.expireYear}))),n.a.createElement(s.a,{cvc:z.securityNumber||"",expiry:z.expireYear&&z.expireMonth?z.expireMonth+z.expireYear:"",name:z.cardHolderName||"",number:z.cardNumber||"",placeholders:{name:"Kart Sahibi"}}))),n.a.createElement(c.a,{buttonText:"\xd6deme Yap",buttonBehavior:"FulfillOrder",getTotalPrice:function(e){z.totalPrice=Number(e)}})))}))}}]);
//# sourceMappingURL=9.31b8f6b4.chunk.js.map